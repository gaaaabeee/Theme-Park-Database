{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Avery Lindseth\\\\Desktop\\\\Code Projects\\\\Theme-Park-Database\\\\front-end\\\\src\\\\components\\\\breakdownDataEntry.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport '../css/formpage.css';\nimport '../css/dataentry.css';\nimport useForm from '../hooks/useForm.js';\nimport { createAPIEndpoint, ENDPOINTS } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getFreshModel = () => ({\n  ride_id: \"\",\n  maintainer_id: \"\",\n  breakdown_date: \"\",\n  breakdown_desc: \"\"\n});\nfunction BreakdownDataEntry() {\n  _s();\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange\n  } = useForm(getFreshModel);\n  const [breakdownList, setRidesList] = useState([]);\n  useEffect(() => {\n    createAPIEndpoint(ENDPOINTS.breakdowns).fetch().then(response => {\n      setRidesList(response.data);\n    }).catch(errors => console.log(errors));\n  }, [breakdownList]);\n  const formSubmit = () => {\n    console.log(values);\n    createAPIEndpoint(ENDPOINTS.breakdowns).post(values).then(response => {\n      setRidesList([...breakdownList, {\n        breakdown_id: response.breakdown_id,\n        ride_id: response.ride_id,\n        maintainer_id: response.maintainer_id,\n        breakdown_date: response.breakdown_date,\n        breakdown_desc: response.breakdown_desc,\n        resolved: response.resolved\n      }]);\n      setValues(getFreshModel());\n    }).then(() => {\n      alert(\"Successfully filed new breakdown report!\");\n    });\n  };\n\n  //change ride name not attraction_id\n  const resolveBreakdown = breakdown_id => {\n    console.log(\"Resolving Breakdown \" + breakdown_id);\n    var newRecord = {\n      breakdown_id: breakdown_id,\n      newResolved: 1\n    };\n    console.log(newRecord);\n    createAPIEndpoint(ENDPOINTS.breakdownUpdate).post(newRecord).then(() => {\n      alert(\"Successfully resolved breakdown!\");\n    }).catch(errors => console.log(errors));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"outside\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"File New Ride Breakdown\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"entry-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Ride ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"ride_id\",\n        value: values.ride_id,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Maintainer ID:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"maintainer_id\",\n        value: values.maintainer_id,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Breakdown Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        name: \"breakdown_date\",\n        value: values.breakdown_date,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Breakdown Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"breakdown_desc\",\n        value: values.breakdown_desc,\n        onChange: handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: formSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"things\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Current Breakdown Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), breakdownList.map(val => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"thing\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"ID: \", val.breakdown_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Ride ID: \", val.ride_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Maintainer ID: \", val.maintainer_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Breakdown Date: \", val.breakdown_date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Breakdown Description: \", val.breakdown_desc]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"Resolved: \", val.resolved]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: !val.resolved && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                resolveBreakdown(val.breakdown_id);\n              },\n              children: \"Resolve as Fixed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this)]\n        }, val.breakdown_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n_s(BreakdownDataEntry, \"CMbL3oCAUgWKJPExCdi/qnh8hMI=\", false, function () {\n  return [useForm];\n});\n_c = BreakdownDataEntry;\nexport default BreakdownDataEntry;\nvar _c;\n$RefreshReg$(_c, \"BreakdownDataEntry\");","map":{"version":3,"names":["React","useEffect","useState","useForm","createAPIEndpoint","ENDPOINTS","getFreshModel","ride_id","maintainer_id","breakdown_date","breakdown_desc","BreakdownDataEntry","values","setValues","errors","setErrors","handleInputChange","breakdownList","setRidesList","breakdowns","fetch","then","response","data","catch","console","log","formSubmit","post","breakdown_id","resolved","alert","resolveBreakdown","newRecord","newResolved","breakdownUpdate","map","val"],"sources":["C:/Users/Avery Lindseth/Desktop/Code Projects/Theme-Park-Database/front-end/src/components/breakdownDataEntry.js"],"sourcesContent":["import React, {useEffect,useState} from 'react';\r\nimport '../css/formpage.css';\r\nimport '../css/dataentry.css';\r\nimport useForm from '../hooks/useForm.js';\r\nimport { createAPIEndpoint, ENDPOINTS } from '../api';\r\n\r\nconst getFreshModel = () => ({\r\n    ride_id: \"\",\r\n    maintainer_id: \"\",\r\n    breakdown_date: \"\",\r\n    breakdown_desc: \"\"\r\n});\r\n\r\nfunction BreakdownDataEntry() {\r\n    const {values,setValues,errors,setErrors,handleInputChange} = useForm(getFreshModel);\r\n    const [breakdownList,setRidesList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        createAPIEndpoint(ENDPOINTS.breakdowns)\r\n        .fetch()\r\n        .then(response => {\r\n            setRidesList(response.data);\r\n        })\r\n        .catch(errors => console.log(errors));\r\n    }, [breakdownList]);\r\n\r\n    const formSubmit = () => {\r\n        console.log(values);\r\n        createAPIEndpoint(ENDPOINTS.breakdowns)\r\n        .post(values)\r\n        .then((response) => {\r\n            setRidesList([\r\n                ...breakdownList,\r\n                {\r\n                    breakdown_id: response.breakdown_id,\r\n                    ride_id: response.ride_id,\r\n                    maintainer_id: response.maintainer_id,\r\n                    breakdown_date: response.breakdown_date,\r\n                    breakdown_desc: response.breakdown_desc,\r\n                    resolved: response.resolved\r\n                }\r\n            ]);\r\n            setValues(getFreshModel());\r\n        })\r\n        .then(() => {alert(\"Successfully filed new breakdown report!\");})\r\n    };\r\n\r\n    //change ride name not attraction_id\r\n    const resolveBreakdown = (breakdown_id) => {\r\n        console.log(\"Resolving Breakdown \"+breakdown_id);\r\n        var newRecord = {\r\n            breakdown_id: breakdown_id,\r\n            newResolved: 1\r\n        }\r\n        console.log(newRecord);\r\n        createAPIEndpoint(ENDPOINTS.breakdownUpdate)\r\n        .post(newRecord)\r\n        .then(() => {alert(\"Successfully resolved breakdown!\");})\r\n        .catch(errors => console.log(errors))\r\n    };\r\n\r\n    return (\r\n        <div className='outside'>\r\n            <h1>File New Ride Breakdown</h1>\r\n            <div className='entry-form'>\r\n                <label>Ride ID:</label>\r\n                <input type=\"text\" name=\"ride_id\" value={values.ride_id} onChange={handleInputChange}/>\r\n                <label>Maintainer ID:</label>\r\n                <input type=\"text\" name=\"maintainer_id\" value={values.maintainer_id} onChange={handleInputChange}/>\r\n                <label>Breakdown Date:</label>\r\n                <input type=\"date\" name=\"breakdown_date\" value={values.breakdown_date} onChange={handleInputChange}/>\r\n                <label>Breakdown Description:</label>\r\n                <input type=\"text\" name=\"breakdown_desc\" value={values.breakdown_desc} onChange={handleInputChange}/>\r\n                <button onClick={formSubmit}>Submit</button>\r\n            </div>\r\n            <br />\r\n            <div className=\"things\">\r\n                <h3>Current Breakdown Reports</h3>\r\n                {breakdownList.map((val) => {\r\n                    return (\r\n                        <div className=\"thing\" key={val.breakdown_id}>\r\n                            <div>\r\n                                <h4>ID: {val.breakdown_id}</h4>\r\n                                <h4>Ride ID: {val.ride_id}</h4>\r\n                                <h4>Maintainer ID: {val.maintainer_id}</h4>\r\n                                <h4>Breakdown Date: {val.breakdown_date}</h4>\r\n                                <h4>Breakdown Description: {val.breakdown_desc}</h4>\r\n                                <h4>Resolved: {val.resolved}</h4>\r\n                            </div>\r\n                            <div>\r\n                                {!val.resolved && \r\n                                <button onClick={() => {resolveBreakdown(val.breakdown_id)}}>Resolve as Fixed</button>}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BreakdownDataEntry;"],"mappings":"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"},"metadata":{},"sourceType":"module"}