{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Avery Lindseth\\\\Desktop\\\\Code Projects\\\\Theme-Park-Database\\\\front-end\\\\src\\\\pages\\\\EmployeeLogIn.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useForm from '../hooks/useForm.js';\nimport '../css/formpage.css';\nimport { createAPIEndpoint, ENDPOINTS, BASE_URL } from '../api/index.js';\nimport useStateContext from '../hooks/useStateContext.js';\n\n//login page\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getFreshModel = () => ({\n  lname: \"\",\n  employee_id: \"\"\n});\nfunction EmployeeLogIn() {\n  _s();\n  const {\n    context,\n    setContext\n  } = useStateContext();\n  const navigate = useNavigate();\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange\n  } = useForm(getFreshModel);\n\n  //when form submits\n  const employeelogin = e => {\n    e.preventDefault();\n    if (validate()) {\n      //code for when user has valid login info\n      createAPIEndpoint(ENDPOINTS.employee).post(values).then(response => {\n        setContext({\n          employee_id: response.data.employee_id\n        });\n        navigate('/employee');\n        console.log(context);\n      }).catch(error => console.log(error));\n    }\n  };\n\n  //check if fields are correct\n  const validate = () => {\n    let temp = {};\n    temp.lname = /\\S+@\\S+\\.\\S+/.test(values.lname) ? \"\" : \"Not a valid name\";\n    temp.employee_id = values.employee_id != \"\" ? \"\" : \"You must enter an ID.\";\n    setErrors(temp);\n    return Object.values(temp).every(x => x == \"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Employee Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        style: {\n          border: '2px solid white'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-inner-box\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          name: \"loginForm\",\n          method: \"post\",\n          id: \"loginForm\",\n          onSubmit: employeelogin,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Last Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 51\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"lname\",\n            name: \"lname\",\n            value: values.lname,\n            onChange: handleInputChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 118\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.lname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Employee ID: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 53\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"employee_id\",\n            name: \"employee_id\",\n            value: values.employee_id,\n            onChange: handleInputChange,\n            size: \"30\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 146\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.employee_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit-button\",\n        type: \"submit\",\n        value: \"Submit\",\n        form: \"loginForm\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(EmployeeLogIn, \"RPhfN1MYstsVj16KDEvUEbTbQXY=\", false, function () {\n  return [useStateContext, useNavigate, useForm];\n});\n_c = EmployeeLogIn;\nexport default EmployeeLogIn;\nvar _c;\n$RefreshReg$(_c, \"EmployeeLogIn\");","map":{"version":3,"names":["React","Link","useNavigate","useForm","createAPIEndpoint","ENDPOINTS","BASE_URL","useStateContext","getFreshModel","lname","employee_id","EmployeeLogIn","context","setContext","navigate","values","setValues","errors","setErrors","handleInputChange","employeelogin","e","preventDefault","validate","employee","post","then","response","data","console","log","catch","error","temp","test","Object","every","x","border"],"sources":["C:/Users/Avery Lindseth/Desktop/Code Projects/Theme-Park-Database/front-end/src/pages/EmployeeLogIn.js"],"sourcesContent":["import React from 'react';\r\nimport {Link, useNavigate} from 'react-router-dom';\r\nimport useForm from '../hooks/useForm.js';\r\nimport '../css/formpage.css';\r\nimport { createAPIEndpoint, ENDPOINTS, BASE_URL } from '../api/index.js';\r\nimport useStateContext from '../hooks/useStateContext.js';\r\n\r\n//login page\r\n\r\nconst getFreshModel = () => ({\r\n    lname: \"\",\r\n    employee_id: \"\"\r\n});\r\n\r\nfunction EmployeeLogIn() {\r\n\r\n    const {context, setContext} = useStateContext();\r\n    const navigate = useNavigate();\r\n\r\n    const {values,setValues,errors,setErrors,handleInputChange} = useForm(getFreshModel);\r\n\r\n    //when form submits\r\n    const employeelogin = (e) => {\r\n        e.preventDefault();\r\n        if (validate()) {\r\n            //code for when user has valid login info\r\n            createAPIEndpoint(ENDPOINTS.employee)\r\n            .post(values)\r\n            .then(response => {\r\n                setContext({employee_id: response.data.employee_id});\r\n                navigate('/employee');\r\n                console.log(context);}) \r\n            .catch(error => console.log(error))\r\n        }\r\n    };\r\n\r\n    //check if fields are correct\r\n    const validate = () => {\r\n        let temp = {};\r\n        temp.lname = (/\\S+@\\S+\\.\\S+/).test(values.lname) ? \"\" : \"Not a valid name\";\r\n        temp.employee_id = values.employee_id != \"\" ? \"\" : \"You must enter an ID.\";\r\n        setErrors(temp);\r\n        return Object.values(temp).every(x => x == \"\");\r\n    };\r\n\r\n    return (\r\n        <div className='form-page'>\r\n            <div className='form-box'>\r\n                <h2>Employee Log In</h2>\r\n                <hr style={{border:'2px solid white'}}/>\r\n                <div className='form-inner-box'>\r\n                    <form name=\"loginForm\" method=\"post\" id=\"loginForm\" onSubmit={employeelogin}>\r\n                        <label>Last Name: </label><br />\r\n                        <input type=\"lname\" name=\"lname\" value={values.lname} onChange={handleInputChange} required/><br />\r\n                        <p>{errors.lname}</p><br />\r\n                        <label>Employee ID: </label><br />\r\n                        <input type=\"employee_id\" name=\"employee_id\" value={values.employee_id} onChange={handleInputChange} size=\"30\" required/><br />\r\n                        <p>{errors.employee_id}</p><br />\r\n                    </form>\r\n                </div>\r\n                <button className=\"submit-button\" type=\"submit\" value=\"Submit\" form=\"loginForm\">Sign In</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EmployeeLogIn;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,IAAI,EAAEC,WAAW,QAAO,kBAAkB;AAClD,OAAOC,OAAO,MAAM,qBAAqB;AACzC,OAAO,qBAAqB;AAC5B,SAASC,iBAAiB,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,iBAAiB;AACxE,OAAOC,eAAe,MAAM,6BAA6B;;AAEzD;AAAA;AAEA,MAAMC,aAAa,GAAG,OAAO;EACzBC,KAAK,EAAE,EAAE;EACTC,WAAW,EAAE;AACjB,CAAC,CAAC;AAEF,SAASC,aAAa,GAAG;EAAA;EAErB,MAAM;IAACC,OAAO;IAAEC;EAAU,CAAC,GAAGN,eAAe,EAAE;EAC/C,MAAMO,QAAQ,GAAGZ,WAAW,EAAE;EAE9B,MAAM;IAACa,MAAM;IAACC,SAAS;IAACC,MAAM;IAACC,SAAS;IAACC;EAAiB,CAAC,GAAGhB,OAAO,CAACK,aAAa,CAAC;;EAEpF;EACA,MAAMY,aAAa,GAAIC,CAAC,IAAK;IACzBA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAIC,QAAQ,EAAE,EAAE;MACZ;MACAnB,iBAAiB,CAACC,SAAS,CAACmB,QAAQ,CAAC,CACpCC,IAAI,CAACV,MAAM,CAAC,CACZW,IAAI,CAACC,QAAQ,IAAI;QACdd,UAAU,CAAC;UAACH,WAAW,EAAEiB,QAAQ,CAACC,IAAI,CAAClB;QAAW,CAAC,CAAC;QACpDI,QAAQ,CAAC,WAAW,CAAC;QACrBe,OAAO,CAACC,GAAG,CAAClB,OAAO,CAAC;MAAC,CAAC,CAAC,CAC1BmB,KAAK,CAACC,KAAK,IAAIH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC,CAAC;IACvC;EACJ,CAAC;;EAED;EACA,MAAMT,QAAQ,GAAG,MAAM;IACnB,IAAIU,IAAI,GAAG,CAAC,CAAC;IACbA,IAAI,CAACxB,KAAK,GAAI,cAAc,CAAEyB,IAAI,CAACnB,MAAM,CAACN,KAAK,CAAC,GAAG,EAAE,GAAG,kBAAkB;IAC1EwB,IAAI,CAACvB,WAAW,GAAGK,MAAM,CAACL,WAAW,IAAI,EAAE,GAAG,EAAE,GAAG,uBAAuB;IAC1EQ,SAAS,CAACe,IAAI,CAAC;IACf,OAAOE,MAAM,CAACpB,MAAM,CAACkB,IAAI,CAAC,CAACG,KAAK,CAACC,CAAC,IAAIA,CAAC,IAAI,EAAE,CAAC;EAClD,CAAC;EAED,oBACI;IAAK,SAAS,EAAC,WAAW;IAAA,uBACtB;MAAK,SAAS,EAAC,UAAU;MAAA,wBACrB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAwB,eACxB;QAAI,KAAK,EAAE;UAACC,MAAM,EAAC;QAAiB;MAAE;QAAA;QAAA;QAAA;MAAA,QAAE,eACxC;QAAK,SAAS,EAAC,gBAAgB;QAAA,uBAC3B;UAAM,IAAI,EAAC,WAAW;UAAC,MAAM,EAAC,MAAM;UAAC,EAAE,EAAC,WAAW;UAAC,QAAQ,EAAElB,aAAc;UAAA,wBACxE;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAA0B;YAAA;YAAA;YAAA;UAAA,QAAM,eAChC;YAAO,IAAI,EAAC,OAAO;YAAC,IAAI,EAAC,OAAO;YAAC,KAAK,EAAEL,MAAM,CAACN,KAAM;YAAC,QAAQ,EAAEU,iBAAkB;YAAC,QAAQ;UAAA;YAAA;YAAA;YAAA;UAAA,QAAE;YAAA;YAAA;YAAA;UAAA,QAAM,eACnG;YAAA,UAAIF,MAAM,CAACR;UAAK;YAAA;YAAA;YAAA;UAAA,QAAK;YAAA;YAAA;YAAA;UAAA,QAAM,eAC3B;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAA4B;YAAA;YAAA;YAAA;UAAA,QAAM,eAClC;YAAO,IAAI,EAAC,aAAa;YAAC,IAAI,EAAC,aAAa;YAAC,KAAK,EAAEM,MAAM,CAACL,WAAY;YAAC,QAAQ,EAAES,iBAAkB;YAAC,IAAI,EAAC,IAAI;YAAC,QAAQ;UAAA;YAAA;YAAA;YAAA;UAAA,QAAE;YAAA;YAAA;YAAA;UAAA,QAAM,eAC/H;YAAA,UAAIF,MAAM,CAACP;UAAW;YAAA;YAAA;YAAA;UAAA,QAAK;YAAA;YAAA;YAAA;UAAA,QAAM;QAAA;UAAA;UAAA;UAAA;QAAA;MAC9B;QAAA;QAAA;QAAA;MAAA,QACL,eACN;QAAQ,SAAS,EAAC,eAAe;QAAC,IAAI,EAAC,QAAQ;QAAC,KAAK,EAAC,QAAQ;QAAC,IAAI,EAAC,WAAW;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAiB;IAAA;MAAA;MAAA;MAAA;IAAA;EAC9F;IAAA;IAAA;IAAA;EAAA,QACJ;AAEd;AAAC,GAlDQC,aAAa;EAAA,QAEYJ,eAAe,EAC5BL,WAAW,EAEkCC,OAAO;AAAA;AAAA,KALhEQ,aAAa;AAoDtB,eAAeA,aAAa;AAAC;AAAA"},"metadata":{},"sourceType":"module"}