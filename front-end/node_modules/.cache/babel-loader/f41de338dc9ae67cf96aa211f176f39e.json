{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Avery Lindseth\\\\Desktop\\\\Code Projects\\\\Theme-Park-Database\\\\front-end\\\\src\\\\pages\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport useForm from '../hooks/useForm.js';\nimport '../css/formpage.css';\nimport { createAPIEndpoint, ENDPOINTS } from '../api/index.js';\nimport useStateContext from '../hooks/useStateContext.js';\n\n//login page\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getFreshModel = () => ({\n  email: \"\",\n  password: \"\"\n});\nfunction Login() {\n  _s();\n  const {\n    context,\n    setContext\n  } = useStateContext();\n  const navigate = useNavigate();\n  const {\n    values,\n    setValues,\n    errors,\n    setErrors,\n    handleInputChange\n  } = useForm(getFreshModel);\n\n  //when form submits\n  const login = e => {\n    e.preventDefault();\n    if (validate()) {\n      //code for when user has valid login info\n      createAPIEndpoint(ENDPOINTS.customerLogin).post(values).then(response => {\n        setContext({\n          login_id: response.data.customer_id,\n          account: \"customer\"\n        });\n        navigate('/');\n        console.log(context);\n      }).catch(error => console.log(error));\n    }\n  };\n\n  //check if fields are correct\n  const validate = () => {\n    let temp = {};\n    temp.email = /\\S+@\\S+\\.\\S+/.test(values.email) ? \"\" : \"Not a valid email.\";\n    temp.password = values.password != \"\" ? \"\" : \"You must enter a password.\";\n    setErrors(temp);\n    return Object.values(temp).every(x => x == \"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        style: {\n          border: '2px solid white'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-inner-box\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          name: \"loginForm\",\n          method: \"post\",\n          id: \"loginForm\",\n          onSubmit: login,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 47\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            value: values.email,\n            onChange: handleInputChange,\n            placeholder: \"ex: example@email.com\",\n            size: \"30\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 164\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 46\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 50\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            value: values.password,\n            onChange: handleInputChange,\n            size: \"30\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 137\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: errors.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit-button\",\n        type: \"submit\",\n        value: \"Submit\",\n        form: \"loginForm\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Don't have an account?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"other-form-button\",\n        to: \"/signup\",\n        children: \"Create New Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Are you an employee? Log in here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"other2-form-button\",\n        to: \"/employeelogin\",\n        children: \"Employee Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"RPhfN1MYstsVj16KDEvUEbTbQXY=\", false, function () {\n  return [useStateContext, useNavigate, useForm];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Link","useNavigate","useForm","createAPIEndpoint","ENDPOINTS","useStateContext","getFreshModel","email","password","Login","context","setContext","navigate","values","setValues","errors","setErrors","handleInputChange","login","e","preventDefault","validate","customerLogin","post","then","response","login_id","data","customer_id","account","console","log","catch","error","temp","test","Object","every","x","border"],"sources":["C:/Users/Avery Lindseth/Desktop/Code Projects/Theme-Park-Database/front-end/src/pages/LoginPage.js"],"sourcesContent":["import React from 'react';\r\nimport {Link, useNavigate} from 'react-router-dom';\r\nimport useForm from '../hooks/useForm.js';\r\nimport '../css/formpage.css';\r\nimport { createAPIEndpoint, ENDPOINTS } from '../api/index.js';\r\nimport useStateContext from '../hooks/useStateContext.js';\r\n\r\n//login page\r\n\r\nconst getFreshModel = () => ({\r\n    email: \"\",\r\n    password: \"\"\r\n});\r\n\r\nfunction Login() {\r\n\r\n    const {context, setContext} = useStateContext();\r\n    const navigate = useNavigate();\r\n\r\n    const {values,setValues,errors,setErrors,handleInputChange} = useForm(getFreshModel);\r\n\r\n    //when form submits\r\n    const login = (e) => {\r\n        e.preventDefault();\r\n        if (validate()) {\r\n            //code for when user has valid login info\r\n            createAPIEndpoint(ENDPOINTS.customerLogin)\r\n            .post(values)\r\n            .then(response => {\r\n                setContext({login_id: response.data.customer_id, account: \"customer\"});\r\n                navigate('/');\r\n                console.log(context);}) \r\n            .catch(error => console.log(error))\r\n        }\r\n    };\r\n\r\n    //check if fields are correct\r\n    const validate = () => {\r\n        let temp = {};\r\n        temp.email = (/\\S+@\\S+\\.\\S+/).test(values.email) ? \"\" : \"Not a valid email.\";\r\n        temp.password = values.password != \"\" ? \"\" : \"You must enter a password.\";\r\n        setErrors(temp);\r\n        return Object.values(temp).every(x => x == \"\");\r\n    };\r\n\r\n    return (\r\n        <div className='form-page'>\r\n            <div className='form-box'>\r\n                <h2>Log In</h2>\r\n                <hr style={{border:'2px solid white'}}/>\r\n                <div className='form-inner-box'>\r\n                    <form name=\"loginForm\" method=\"post\" id=\"loginForm\" onSubmit={login}>\r\n                        <label>Email: </label><br />\r\n                        <input type=\"email\" name=\"email\" value={values.email} onChange={handleInputChange} placeholder=\"ex: example@email.com\" size=\"30\" required/><br />\r\n                        <p>{errors.email}</p><br />\r\n                        <label>Password: </label><br />\r\n                        <input type=\"password\" name=\"password\" value={values.password} onChange={handleInputChange} size=\"30\" required/><br />\r\n                        <p>{errors.password}</p><br />\r\n                    </form>\r\n                </div>\r\n                <button className=\"submit-button\" type=\"submit\" value=\"Submit\" form=\"loginForm\">Sign In</button>\r\n                <br /><br />\r\n                <p>Don't have an account?</p>\r\n                <Link className=\"other-form-button\" to=\"/signup\">Create New Account</Link>\r\n                <br /><br />\r\n                <p>Are you an employee? Log in here.</p>\r\n                <Link className=\"other2-form-button\" to=\"/employeelogin\">Employee Log In</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}